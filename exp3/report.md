# OpenMP 调度策略小作业 实验报告 

管思源 2021012702

## 测试结果

| 调度策略           | 较多且为均匀长度的分段 (ms) | 加速比 | 较少且为随机长度的分段 (ms) | 加速比 |
| ------------------ | --------------------------- | ------ | --------------------------- | ------ |
| 串行不使用`OpenMP` | 1863.88                     | 1      | 3806.61                     | 1      |
| `static`           | 69.5915                     | 26.78  | 189.846                     | 20.05  |
| `dynamic`          | 88.8019                     | 20.99  | 167.691                     | 22.70  |
| `guided`           | 68.9276                     | 27.04  | 164.434                     | 23.15  |

## 简要分析

对于较多且为均匀长度的分段，`static`策略将所有分段平均分块分配给线程，已经实现了负载均衡，同时分配开销很小，因此应当耗时最小；`dynamic`和`guided`策略增加的负载平衡优势在此例中无用武之地，但在分配中开销更大，因此耗时应当较大，其中`dynamic`策略的分配单元更小，耗时最长。

对比实验结果，发现基本符合理论分析，但`static`和`guided`耗时区别不大，甚至`guided`更小，推测是因为分段虽然均匀，但由于线程性能和具体数据的不同，排序时长仍有差异，在负载均衡上`static`不够理想。

对于较少且为随机长度的分段，`static`策略分配给每个线程的计算量完全随机，负载均衡为最差情况，因此应当耗时最长；相较而言，`dynamic`策略实现了完全的负载均衡，同时由于分段数量较少，分配开销不大，因此耗时应当显著减小；在此基础上，`guided`策略进一步减少了分配开销，应当耗时最小。

对比实验结果，发现完全符合理论分析。